
   <script  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAFV3xWimhcZMCsIXOLZbB6fVmAQfkelFM"></script>

    <script>
      var geocoder;
      var map;

      function initialize() {
        geocoder = new google.maps.Geocoder();
        var mapCanvas = document.getElementById('map_canvas');
        myLatlng = new google.maps.LatLng(   <script  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAFV3xWimhcZMCsIXOLZbB6fVmAQfkelFM"></script>
    <script>
      var geocoder;
      var map;
      var  myLatlng1 = new google.maps.LatLng(37.7582, -122.4415);
      var  myLatlng2 = new google.maps.LatLng(37.7980, -122.4079);
      var  myLatlng3 = new google.maps.LatLng(37.8018, -122.4690);
      var  myLatlng4 = new google.maps.LatLng(37.7701, -122.4721);
      var  myLatlng5 = new google.maps.LatLng(37.7834, -122.4421);
      var  myLatlng6 = new google.maps.LatLng(37.746244, -122.470436);
      var  myLatlng7 = new google.maps.LatLng(37.765787, -122.511978);
      var  myLatlng8 = new google.maps.LatLng(37.825086, -122.421856);
      var  myLatlng9 = new google.maps.LatLng(37.824002, -122.370872);
      var  myLatlng10 = new google.maps.LatLng(37.725087, -122.371387);
      var  myLatlng11 = new google.maps.LatLng(37.746244, -122.422714);

      function initialize() {
        geocoder = new google.maps.Geocoder();
        var mapCanvas = document.getElementById('map_canvas');
        myLatlng = new google.maps.LatLng(37.7582, -122.4415);
        var mapOptions = {
          center: myLatlng,
          zoom: 13
        }
        map = new google.maps.Map(mapCanvas, mapOptions);

      contentString = '<h4><a href="/events/pictures"><%= @events.first.activity.title %><br/></a>Category: <%=@events.first.activity.category%></h4><p><%= @events.first.activity.description %></p><p>Happened on: <%= @events.first.date %></p>'
      var infowindow = new google.maps.InfoWindow({
        content: contentString,
        maxWidth: 150
      });
        function createMarker(pos) {
            var marker = new google.maps.Marker({
              map: map,
              position: pos,
              icon: '../assets/beer_icon2.png',
              url: '/events/pictures',
              draggable: true,
              animation: google.maps.Animation.DROP,
            });
            google.maps.event.addListener(marker, 'click', function() {
                infowindow.open(map,marker);
               //window.location.href = marker.url;
            });
            return marker;
        }
        createMarker(myLatlng1);
        createMarker(myLatlng2);
        createMarker(myLatlng3);
        createMarker(myLatlng4);
        createMarker(myLatlng5);
        createMarker(myLatlng6);
        createMarker(myLatlng7);
        createMarker(myLatlng8);
        createMarker(myLatlng9);
        createMarker(myLatlng10);
        createMarker(myLatlng11);
      }

      google.maps.event.addDomListener(window, 'load', initialize);
    </script>
    <div id='map_canvas'></div> -122.4167);

    </script>
    <div id='map_canvas'></div>
